<div class="highlight"><pre> 
    <span class="k">const</span> <span class="kt">char</span> <span class="n">json1</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot; { </span><span class="se">\&quot;</span><span class="s">hello</span><span class="se">\&quot;</span><span class="s"> : </span><span class="se">\&quot;</span><span class="s">world</span><span class="se">\&quot;</span><span class="s">, </span><span class="se">\&quot;</span><span class="s">t</span><span class="se">\&quot;</span><span class="s"> : true , </span><span class="se">\&quot;</span><span class="s">f</span><span class="se">\&quot;</span><span class="s"> : false, </span><span class="se">\&quot;</span><span class="s">n</span><span class="se">\&quot;</span><span class="s">: null, </span><span class="se">\&quot;</span><span class="s">i</span><span class="se">\&quot;</span><span class="s">:123, </span><span class="se">\&quot;</span><span class="s">pi</span><span class="se">\&quot;</span><span class="s">: 3.1416, </span><span class="se">\&quot;</span><span class="s">a</span><span class="se">\&quot;</span><span class="s">:[1, 2, 3, 4] } &quot;</span><span class="p">;</span>
    
    <span class="c1">//解析数据到document中</span>
    <span class="n">rapidjson</span><span class="o">::</span><span class="n">Document</span> <span class="n">document</span><span class="p">;</span>
    <span class="n">document</span><span class="p">.</span><span class="n">Parse</span><span class="o">&lt;</span><span class="n">kParseDefaultFlags</span><span class="o">&gt;</span><span class="p">(</span><span class="n">json1</span><span class="p">);</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">.</span><span class="n">IsObject</span><span class="p">());</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">.</span><span class="n">HasMember</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">));</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">[</span><span class="s">&quot;hello&quot;</span><span class="p">].</span><span class="n">IsString</span><span class="p">());</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;hello = %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">document</span><span class="p">[</span><span class="s">&quot;hello&quot;</span><span class="p">].</span><span class="n">GetString</span><span class="p">());</span>
    
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">[</span><span class="s">&quot;t&quot;</span><span class="p">].</span><span class="n">IsBool</span><span class="p">());</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;t = %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">document</span><span class="p">[</span><span class="s">&quot;t&quot;</span><span class="p">].</span><span class="n">GetBool</span><span class="p">()</span> <span class="o">?</span> <span class="s">&quot;true&quot;</span> <span class="o">:</span> <span class="s">&quot;false&quot;</span><span class="p">);</span>
    
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">[</span><span class="s">&quot;f&quot;</span><span class="p">].</span><span class="n">IsBool</span><span class="p">());</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;f = %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">document</span><span class="p">[</span><span class="s">&quot;f&quot;</span><span class="p">].</span><span class="n">GetBool</span><span class="p">()</span> <span class="o">?</span> <span class="s">&quot;true&quot;</span> <span class="o">:</span> <span class="s">&quot;false&quot;</span><span class="p">);</span>
    
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;n = %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">document</span><span class="p">[</span><span class="s">&quot;n&quot;</span><span class="p">].</span><span class="n">IsNull</span><span class="p">()</span> <span class="o">?</span> <span class="s">&quot;null&quot;</span> <span class="o">:</span> <span class="s">&quot;?&quot;</span><span class="p">);</span>
    
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">[</span><span class="s">&quot;i&quot;</span><span class="p">].</span><span class="n">IsNumber</span><span class="p">());</span> <span class="c1">// Number is a JSON type, but C++ needs more specific type.</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">[</span><span class="s">&quot;i&quot;</span><span class="p">].</span><span class="n">IsInt</span><span class="p">());</span>	  <span class="c1">// In this case, IsUint()/IsInt64()/IsUInt64() also return true.</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">document</span><span class="p">[</span><span class="s">&quot;i&quot;</span><span class="p">].</span><span class="n">GetInt</span><span class="p">());</span>	<span class="c1">// Alternative (int)document[&quot;i&quot;]</span>
    
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">[</span><span class="s">&quot;pi&quot;</span><span class="p">].</span><span class="n">IsNumber</span><span class="p">());</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">document</span><span class="p">[</span><span class="s">&quot;pi&quot;</span><span class="p">].</span><span class="n">IsDouble</span><span class="p">());</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;pi = %g</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">document</span><span class="p">[</span><span class="s">&quot;pi&quot;</span><span class="p">].</span><span class="n">GetDouble</span><span class="p">());</span>
    
    <span class="c1">//解析数组</span>
    <span class="p">{</span>
         <span class="k">const</span> <span class="n">rapidjson</span><span class="o">::</span><span class="n">Value</span><span class="o">&amp;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">document</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">];</span> <span class="c1">//handy and faster.</span>
         <span class="n">assert</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">IsArray</span><span class="p">());</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">SizeType</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">.</span><span class="n">Size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>	<span class="p">{</span><span class="c1">// rapidjson uses SizeType instead of size_t.</span>
             <span class="n">printf</span><span class="p">(</span><span class="s">&quot;a[%d] = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">GetInt</span><span class="p">());</span>
         <span class="p">}</span>
    <span class="p">}</span>
</pre></div>