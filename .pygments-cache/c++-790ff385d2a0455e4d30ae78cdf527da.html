<div class="highlight"><pre><span class="kt">void</span> <span class="n">HelloWorld</span><span class="o">::</span><span class="n">parseXML</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">//解析text.xml文件到doc中</span>
    <span class="n">XMLDocument</span> <span class="o">*</span><span class="n">doc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XMLDocument</span><span class="p">();</span>
    <span class="n">doc</span><span class="o">-&gt;</span><span class="n">LoadFile</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ldquo</span><span class="p">;</span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">ypengju</span><span class="o">/</span><span class="n">text</span><span class="p">.</span><span class="n">xml</span><span class="o">&amp;</span><span class="n">rdquo</span><span class="p">;);</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">XMLElement</span> <span class="o">*</span><span class="n">root</span> <span class="o">=</span> <span class="n">doc</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">RootElement</span><span class="p">();</span>

<span class="k">const</span> <span class="n">XMLAttribute</span> <span class="o">*</span><span class="n">firstAttr</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">FirstAttribute</span><span class="p">();</span>
<span class="n">log</span><span class="p">(</span><span class="s">&quot;--name %s, value = %s&quot;</span><span class="p">,</span> <span class="n">firstAttr</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">Name</span><span class="p">(),</span> <span class="n">firstAttr</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">Value</span><span class="p">());</span>

<span class="n">XMLElement</span> <span class="o">*</span><span class="n">first</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">FirstChildElement</span><span class="p">();</span>
<span class="n">log</span><span class="p">(</span><span class="s">&quot;--- first element: name %s, text %s&quot;</span><span class="p">,</span> <span class="n">first</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">Name</span><span class="p">(),</span> <span class="n">first</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">GetText</span><span class="p">());</span>

<span class="n">XMLElement</span> <span class="o">*</span><span class="n">second</span> <span class="o">=</span> <span class="n">first</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">NextSiblingElement</span><span class="p">();</span>
<span class="n">log</span><span class="p">(</span><span class="s">&quot;--- second element: name %s, text %s&quot;</span><span class="p">,</span> <span class="n">second</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">Name</span><span class="p">(),</span> <span class="n">second</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">GetText</span><span class="p">());</span>

<span class="n">XMLElement</span> <span class="o">*</span><span class="n">array</span> <span class="o">=</span> <span class="n">second</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">NextSiblingElement</span><span class="p">();</span>
<span class="n">log</span><span class="p">(</span><span class="s">&quot;----array element: name %s&quot;</span><span class="p">,</span> <span class="n">array</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">Name</span><span class="p">());</span>

<span class="k">for</span> <span class="p">(</span><span class="n">XMLElement</span> <span class="o">*</span><span class="n">ele</span> <span class="o">=</span> <span class="n">array</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">FirstChildElement</span><span class="p">();</span> <span class="n">ele</span> <span class="o">!=</span> <span class="n">array</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">LastChildElement</span><span class="p">()</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">NextSiblingElement</span><span class="p">();</span> <span class="n">ele</span> <span class="o">=</span> <span class="n">ele</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">NextSiblingElement</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">log</span><span class="p">(</span><span class="s">&quot;----- name %s, value %s&quot;</span><span class="p">,</span> <span class="n">ele</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">Name</span><span class="p">(),</span> <span class="n">ele</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">GetText</span><span class="p">());</span>
<span class="p">}</span>
<span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>